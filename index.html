<!DOCTYPE html>
<html lang="en"> 
<head> 
  <meta charset="utf-8" /> 
  <title>document.write Image Loader</title>

  <!--
    The script is called externally in this example to accommodate 
    development and testing on GitHub. The original concept was
    to embed it directly to save the HTTP call. It's designed to
    work either way.
  -->
  <script src="document.write-image-loader.js"></script>

  <style type="text/css">
    body { font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; }
    img.main { border: 2px solid black; }
    .table { border-collapse: collapse; border-spacing: 0; }
    .table th { vertical-align: top; border-bottom: 1px solid #aaa; padding:4px 14px; }
    .table td { vertical-align: top; border-top: 1px solid #eee; border-bottom: 1px solid #eee; padding:4px 14px; }
    .table tr:last-child td { vertical-align: top; border-top: 1px solid #eee; border-bottom: 1px solid #aaa; padding:4px 14px;}
    .center { text-align: center; }
  </style>

</head> 
<body>
  <p><strong>Example &middot; <a href="test/">QUnit Test Results</a> &middot; <a href="https://github.com/alanwsmith/document.write-image-loader">Documentation and GitHub Repo</a></strong></p>

  <hr>

  <h1>document.write Image Loader</h1>
  <hr> 
  <h2>Basic Example</h2>
  <script>
    var imageLoader = new ImageLoader_0_3_x;
    
    imageLoader.load_params(
      {
    	  dpr: 2,
    	  image_name: "horses.jpg",
        percent_of_viewport_width: 50,
        quality: 80,
        raw_height: 1067,
        raw_width: 1600,
        viewport_height: window.innerHeight,
        viewport_width: window.innerWidth,
        url_template: "http://res.cloudinary.com/demo/image/upload/w_[WIDTH],h_[HEIGHT],q_[QUALITY]/[IMAGE_NAME]"
      }
    );
    
  
    document.write(imageLoader.img_tag());
    document.write(
      '<table>' +
      '<tr><td>Device Pixel Ratio:</td><td>' + imageLoader._dpr + 'x</td></tr>' + 
      '<tr><td>% of viewport width:</td><td>' + imageLoader._percent_of_viewport_width + '</td></tr>' +
      '</table>' + 
      '<table>' +
      '<tr><th></th><th>Width</th><th>Height</th>' +
      '<tr><td>Raw (original)</td><td>' + imageLoader._raw_width + '</td><td>' + imageLoader._raw_height + '</td></tr>' +
      '<tr><td>Viewport</td><td>' + imageLoader._viewport_width + '</td><td>' + imageLoader._viewport_height + '</td></tr>' +
      '<tr><td>Render</td><td>' + imageLoader.render_width() + '</td><td>' + imageLoader.render_height() + '</td></tr>' +
      '<tr><td>URL Request</td><td>' + imageLoader.url_request_width() + '</td><td>' + imageLoader.url_request_height() + '</td></tr>' +
      '</table>'
    );

  </script>
  <hr>


  <h2>Call with no percentage, but max width</h2>
  <script>
    var imageLoader = new ImageLoader_0_3_x;
    
    imageLoader.load_params(
      {
      	dpr: 2,
    	  image_name: "horses.jpg",
    	  max_render_width: 800,
        raw_height: 1067,
        raw_width: 1600,
        viewport_height: window.innerHeight,
        viewport_width: window.innerWidth,
        url_template: "http://res.cloudinary.com/demo/image/upload/w_[WIDTH],h_[HEIGHT],q_[QUALITY]/[IMAGE_NAME]"
      }
    );
    
  
    document.write(imageLoader.img_tag());
    document.write(
      '<table>' +
      '<tr><td>Device Pixel Ratio:</td><td>' + imageLoader._dpr + 'x</td></tr>' + 
      '<tr><td>% of viewport width:</td><td>' + imageLoader._percent_of_viewport_width + '</td></tr>' +
      '<tr><td>Max render width:</td><td>' + imageLoader._max_render_width + '</td></tr>' +
      '</table>' + 
      '<table>' +
      '<tr><th></th><th>Width</th><th>Height</th>' +
      '<tr><td>Raw (original)</td><td>' + imageLoader._raw_width + '</td><td>' + imageLoader._raw_height + '</td></tr>' +
      '<tr><td>Viewport</td><td>' + imageLoader._viewport_width + '</td><td>' + imageLoader._viewport_height + '</td></tr>' +
      '<tr><td>Render</td><td>' + imageLoader.render_width() + '</td><td>' + imageLoader.render_height() + '</td></tr>' +
      '<tr><td>URL Request</td><td>' + imageLoader.url_request_width() + '</td><td>' + imageLoader.url_request_height() + '</td></tr>' +
      '</table>'
    );

  </script>

  <hr>
  <h2>Minimum Details Call</h2>
  <script>
    var imageLoader = new ImageLoader_0_3_x;
    
    imageLoader.load_params(
      {
    	  image_name: "horses.jpg",
        raw_height: 1067,
        raw_width: 1600,
        viewport_height: window.innerHeight,
        viewport_width: window.innerWidth,
        url_template: "http://res.cloudinary.com/demo/image/upload/w_[WIDTH],h_[HEIGHT],q_[QUALITY]/[IMAGE_NAME]"
      }
    );
    
  
    document.write(imageLoader.img_tag());
    document.write(
      '<table>' +
      '<tr><td>Device Pixel Ratio:</td><td>' + imageLoader._dpr + 'x</td></tr>' + 
      '<tr><td>% of viewport width:</td><td>' + imageLoader._percent_of_viewport_width + '</td></tr>' +
      '</table>' + 
      '<table>' +
      '<tr><th></th><th>Width</th><th>Height</th>' +
      '<tr><td>Raw (original)</td><td>' + imageLoader._raw_width + '</td><td>' + imageLoader._raw_height + '</td></tr>' +
      '<tr><td>Viewport</td><td>' + imageLoader._viewport_width + '</td><td>' + imageLoader._viewport_height + '</td></tr>' +
      '<tr><td>Render</td><td>' + imageLoader.render_width() + '</td><td>' + imageLoader.render_height() + '</td></tr>' +
      '<tr><td>URL Request</td><td>' + imageLoader.url_request_width() + '</td><td>' + imageLoader.url_request_height() + '</td></tr>' +
      '</table>'
    );

  </script>

  <hr>

  <h2>Fixed Max Width Example</h2>

  <script>
    imageLoader.load_params(
      {
    	  dpr: 2,
    	  image_name: "horses.jpg",
    	  max_render_width: 200,
        percent_of_viewport_width: 50,
        quality: 80,
        raw_height: 1067,
        raw_width: 1600,
        viewport_height: window.innerHeight,
        viewport_width: window.innerWidth,
        url_template: "http://res.cloudinary.com/demo/image/upload/w_[WIDTH],h_[HEIGHT],q_[QUALITY]/[IMAGE_NAME]"
      }
    );
    
    document.write(imageLoader.img_tag());
    document.write(
      '<table>' +
      '<tr><td>Device Pixel Ratio:</td><td>' + imageLoader._dpr + 'x</td></tr>' + 
      '<tr><td>% of viewport width:</td><td>' + imageLoader._percent_of_viewport_width + '</td></tr>' +
      '<tr><td>Max Render Width:</td><td>' + imageLoader._max_render_width + '</td></tr>' +
      '</table>' + 
      '<table>' +
      '<tr><th></th><th>Width</th><th>Height</th>' +
      '<tr><td>Raw (original)</td><td>' + imageLoader._raw_width + '</td><td>' + imageLoader._raw_height + '</td></tr>' +
      '<tr><td>Viewport</td><td>' + imageLoader._viewport_width + '</td><td>' + imageLoader._viewport_height + '</td></tr>' +
      '<tr><td>Render</td><td>' + imageLoader.render_width() + '</td><td>' + imageLoader.render_height() + '</td></tr>' +
      '<tr><td>URL Request</td><td>' + imageLoader.url_request_width() + '</td><td>' + imageLoader.url_request_height() + '</td></tr>' +
      '</table>'
    );
  </script>

  <h2>Percentage of viewport height example</h2>

  <script>
    imageLoader.load_params(
      {
    	  dpr: 2,
    	  image_name: "horses.jpg",
        percent_of_viewport_height: 50,
        quality: 80,
        raw_height: 1067,
        raw_width: 1600,
        viewport_height: window.innerHeight,
        viewport_width: window.innerWidth,
        url_template: "http://res.cloudinary.com/demo/image/upload/w_[WIDTH],h_[HEIGHT],q_[QUALITY]/[IMAGE_NAME]"
      }
    );
    
    document.write(imageLoader.img_tag());
    document.write(
      '<table>' +
      '<tr><td>Device Pixel Ratio:</td><td>' + imageLoader._dpr + 'x</td></tr>' + 
      '<tr><td>% of viewport width:</td><td>' + imageLoader._percent_of_viewport_width + '</td></tr>' +
      '<tr><td>Max Render Width:</td><td>' + imageLoader._max_render_width + '</td></tr>' +
      '</table>' + 
      '<table>' +
      '<tr><th></th><th>Width</th><th>Height</th>' +
      '<tr><td>Raw (original)</td><td>' + imageLoader._raw_width + '</td><td>' + imageLoader._raw_height + '</td></tr>' +
      '<tr><td>Viewport</td><td>' + imageLoader._viewport_width + '</td><td>' + imageLoader._viewport_height + '</td></tr>' +
      '<tr><td>Render</td><td>' + imageLoader.render_width() + '</td><td>' + imageLoader.render_height() + '</td></tr>' +
      '<tr><td>URL Request</td><td>' + imageLoader.url_request_width() + '</td><td>' + imageLoader.url_request_height() + '</td></tr>' +
      '</table>'
    );
  </script>




  <hr>
  <p>Resize the browser and refresh the page to generate a different size.</p>
  <hr>

  <h3>Notes</h3>
  <hr>
  <p>
    Original Image:<br>
    <a href="http://res.cloudinary.com/demo/image/upload/horses.jpg">http://res.cloudinary.com/demo/image/upload/horses.jpg</a> (1600x1067)<br>
  </p>

</body>
</html>
